<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>显示照片</title>
<link rel="stylesheet" href="css/jquery-rebox.css">
<style>
body{
	background : black
}
.container-fluid {
  padding: 20px;
}
.box {
  margin-bottom: 20px;
  float: left;
  width: 220px;
}
.box img {
  margin: 5px;
  max-width: 100%;
}
</style>
<script src="../jquery.min.js"></script>
<script src="js/jquery-rebox.js"></script>
<script src="http://jq22.qiniudn.com/masonry-docs.min.js"></script>
<script src="js/params.js"></script>
<script>
function fitPhoto(img){
	var h = $(img).attr('height');
	var w = $(img).attr('width');
	
	var aimWidth = screen.width * 0.15;
	
	var co = aimWidth / w;
	w = aimWidth;
	h *= co;
	
	$(img).attr('height', h);		
	$(img).attr('width', w);		
}
$(document).ready(function(){
	//添加图片
	var cs = [];
	for(v of params){
		var content = '<a href="' + v.path + '" title="' + v.note + '\nNo.' + (params.indexOf(v) + 1) +' of ' + params.length + '" class="box"><img src="' + v.path + '"></a>';
		cs.push(content);
		if(cs.length % 5 == 0){
			cs.push('<br/>');
		}
	}
	$('#show').append(cs.join());
	//图片大小自适应
	$.each($('img'), function(k, v){
		fitPhoto(v);
	});
	//瀑布流生成
	var $container = $('#show');
    $container.imagesLoaded(function(){
        $container.masonry({
            itemSelector: 'img',
            columnWidth: 5 //每两列之间的间隙为5像素
        });
    });
    //照片预览生成
	$('#show').rebox({ selector: 'a' });
});
</script>
</head>
<body>
<!-- 代码 开始 -->
<div id="show" class="container-fluid">
	<!-- <a href="images/sample_a.jpg" title="Caption for image A"><img src="images/sample_a_thumb.jpg"></a>
	<a href="images/sample_b.jpg" title="Caption for image B"><img src="images/sample_b_thumb.jpg"></a>
	<a href="images/sample_c.jpg" title="Caption for image C"><img src="images/sample_c_thumb.jpg"></a>
	<a href="images/sample_d.jpg" title="Caption for image D"><img src="images/sample_d_thumb.jpg"></a> -->
</div>
</div>
</body>
</html>